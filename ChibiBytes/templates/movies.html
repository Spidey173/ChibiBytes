{% extends "main-app.html" %}

{% block content %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChibiBytes - Anime Movies</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Roboto', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .page-header {
            padding: 30px 20px;
            text-align: center;
            background: rgba(30, 30, 46, 0.5);
            margin-bottom: 30px;
            border-bottom: 3px solid #9c27b0;
        }

        .page-title {
            font-size: 3rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #ff6ec4, #7873f5);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .page-subtitle {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 25px;
            color: #e0e0e0;
            line-height: 1.6;
        }

        .hero-slider {
            position: relative;
            height: 500px;
            margin-bottom: 50px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            max-width: 1400px;
            margin: 0 auto 40px;
        }

        .hero-slides {
            display: flex;
            width: 500%;
            height: 100%;
            transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
        }

        .hero-slide {
            flex: 1 0 20%;
            height: 100%;
            position: relative;
        }

        .hero-slide img {
            width: 100%;
            height: 100%;
            object-fit: fit;
            display: block;
        }

        .hero-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 100%);
        }

        .slide-title {
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.7);
            background: linear-gradient(to right, #ff6ec4, #7873f5);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            background: rgba(26, 26, 46, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 20;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .hero-nav:hover {
            background: rgba(156, 39, 176, 0.7);
            transform: translateY(-50%) scale(1.1);
        }

        .hero-nav.prev {
            left: 20px;
        }

        .hero-nav.next {
            right: 20px;
        }

        .hero-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 20;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            background: #9c27b0;
            transform: scale(1.2);
        }

        .section {
            margin-bottom: 50px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 25px;
            color: #fff;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(156, 39, 176, 0.5);
        }

        .section-title i {
            color: #9c27b0;
        }

        .slider-container {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            background: rgba(30, 30, 46, 0.3);
            padding: 20px;
        }

        .slider {
            display: flex;
            gap: 25px;
            overflow-x: auto;
            padding: 15px 5px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .slider::-webkit-scrollbar {
            display: none;
        }

        .movie-card {
            flex: 0 0 auto;
            width: 280px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            transition: transform 0.3s ease;
            cursor: pointer;
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.4);
            background: rgba(30, 30, 46, 0.7);
        }

        .movie-card:hover {
            transform: translateY(-10px) scale(1.03);
            z-index: 10;
        }

        .movie-card img {
            width: 100%;
            height: 380px;
            object-fit: cover;
            display: block;
            transition: filter 0.3s ease;
        }

        .movie-card:hover img {
            filter: brightness(0.7);
        }

        .movie-card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 50%);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 25px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .movie-card:hover .movie-card-overlay {
            opacity: 1;
        }

        .movie-card-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: white;
            text-shadow: 0 1px 3px rgba(0,0,0,0.8);
        }

        .movie-card-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.95rem;
            color: #aaa;
            margin-bottom: 10px;
        }

        .movie-card-rating {
            color: #ffd700;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .movie-card-info {
            margin-top: 10px;
            font-size: 0.9rem;
            line-height: 1.5;
            color: #e0e0e0;
        }

        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: rgba(26, 26, 46, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 20;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        .slider-nav:hover {
            background: rgba(156, 39, 176, 0.5);
            border-color: rgba(156, 39, 176, 0.3);
            transform: translateY(-50%) scale(1.1);
        }

        .slider-nav.prev {
            left: -10px;
        }

        .slider-nav.next {
            right: -10px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background: #14142e;
            max-width: 900px;
            margin: 50px auto;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            animation: modalOpen 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes modalOpen {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            height: 450px;
            position: relative;
        }

        .modal-backdrop {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(26, 26, 46, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
            color: white;
            z-index: 10;
        }

        .modal-close:hover {
            background: rgba(156, 39, 176, 0.5);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 35px;
        }

        .modal-title {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #fff;
            background: linear-gradient(45deg, #ff6ec4, #7873f5);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.1;
        }

        .modal-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            color: #aaa;
            flex-wrap: wrap;
            font-size: 1.1rem;
        }

        .modal-rating {
            color: #ffd700;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .modal-description {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 30px;
            color: #e0e0e0;
        }

        .ai-insights {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid #9c27b0;
        }

        .ai-insights-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #9c27b0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ai-content {
            line-height: 1.6;
            color: #e0e0e0;
            font-style: italic;
        }

        .modal-footer {
            display: flex;
            gap: 15px;
        }

        .btn-watchlist {
            background: rgba(156, 39, 176, 0.3);
            border: 2px solid #9c27b0;
            color: white;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .btn-watchlist:hover {
            background: rgba(156, 39, 176, 0.5);
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: rgba(26, 26, 46, 0.9);
            border-left: 4px solid #9c27b0;
            border-radius: 5px;
            color: white;
            z-index: 2000;
            transform: translateX(120%);
            transition: transform 0.4s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification i {
            margin-right: 10px;
            color: #9c27b0;
        }

        /* Responsive design */
        @media (max-width: 1100px) {
            .hero-slider {
                height: 400px;
            }
            
            .movie-card {
                width: 250px;
            }
            
            .movie-card img {
                height: 340px;
            }
        }

        @media (max-width: 768px) {
            .page-title {
                font-size: 2.5rem;
            }
            
            .hero-slider {
                height: 350px;
            }
            
            .slide-title {
                font-size: 2.3rem;
            }
            
            .movie-card {
                width: 220px;
            }
            
            .movie-card img {
                height: 300px;
            }
            
            .modal-title {
                font-size: 2rem;
            }
        }

        @media (max-width: 576px) {
            .page-title {
                font-size: 2rem;
            }
            
            .page-subtitle {
                font-size: 1rem;
            }
            
            .hero-slider {
                height: 280px;
            }
            
            .slide-title {
                font-size: 1.8rem;
            }
            
            .movie-card {
                width: 200px;
            }
            
            .movie-card img {
                height: 280px;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>
    <div class="page-header">
        <h1 class="page-title">
            <i class="fas fa-film"></i> Anime Movies
        </h1>

    </div>

    <!-- Hero Slider -->
    <div class="hero-slider">
        <div class="hero-slides">
            <div class="hero-slide">
                <img src="https://i.pinimg.com/1200x/96/9c/56/969c56eeb869a29413bc14f378ee1868.jpg" alt="A Silent Voice">
                <div class="hero-overlay">
                    <h2 class="slide-title">A Silent Voice</h2>
                </div>
            </div>
            <div class="hero-slide">
                <img src="https://i.pinimg.com/1200x/e1/b0/dc/e1b0dcced90203de43c7514e9b81e0a1.jpg" alt="Your Name">
                <div class="hero-overlay">
                    <h2 class="slide-title">Your Name</h2>
                </div>
            </div>
            <div class="hero-slide">
                <img src="https://i.pinimg.com/1200x/9b/e6/34/9be6345125b34db8a7a314b682c4f7e3.jpg" alt="Spirited Away">
                <div class="hero-overlay">
                    <h2 class="slide-title">Spirited Away</h2>
                </div>
            </div>
            <div class="hero-slide">
                <img src="https://i.pinimg.com/1200x/78/e6/44/78e6449f47683caaae3d916503954d67.jpg" alt="Weathering With You">
                <div class="hero-overlay">
                    <h2 class="slide-title">Weathering With You</h2>
                </div>
            </div>
            <div class="hero-slide">
                <img src="https://i.pinimg.com/736x/c1/71/e5/c171e56656f211d4af2d78fd789d6b7d.jpg" alt="Howl's Moving Castle">
                <div class="hero-overlay">
                    <h2 class="slide-title">Howl's Moving Castle</h2>
                </div>
            </div>
        </div>

        <div class="hero-nav prev">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div class="hero-nav next">
            <i class="fas fa-chevron-right"></i>
        </div>

        <div class="hero-indicators">
            <div class="indicator active" data-slide="0"></div>
            <div class="indicator" data-slide="1"></div>
            <div class="indicator" data-slide="2"></div>
            <div class="indicator" data-slide="3"></div>
            <div class="indicator" data-slide="4"></div>
        </div>
    </div>

    <!-- Featured Anime Movies -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-star"></i> Featured Anime Movies
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="featuredSlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- Studio Ghibli Collection -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-dragon"></i> Studio Ghibli Masterpieces
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="ghibliSlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- Award Winners -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-trophy"></i> Award Winning Films
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="awardSlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>


    <!-- New Releases -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-bolt"></i> New Releases
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="newSlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>


        <!-- Action Movies -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-explosion"></i> Action
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="actionSlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

        <!-- Adventure Movies -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-map"></i> Adventure
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="adventureSlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- Drama Movies -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-masks-theater"></i> Drama
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="dramaSlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- Fantasy Movies -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-dragon"></i> Fantasy
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="fantasySlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- Romance Movies -->
    <div class="section">
        <h2 class="section-title">
            <i class="fas fa-heart"></i> Romance
        </h2>
        <div class="slider-container">
            <div class="slider-nav prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="slider" id="romanceSlider">
                <!-- Cards will be generated by JS -->
            </div>
            <div class="slider-nav next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- More Info Modal -->
    <div class="modal" id="infoModal">
        <div class="modal-content">
            <div class="modal-header">
                <img src="" alt="" class="modal-backdrop" id="modalBackdrop">
                <div class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <div class="modal-body">
                <h2 class="modal-title" id="modalTitle">Your Name</h2>
                <div class="modal-meta" id="modalMeta">
                    <span class="modal-rating">8.8 <i class="fas fa-star"></i></span>
                    <span>2016</span>
                    <span>PG</span>
                    <span>106 min</span>
                    <span>Romance, Fantasy</span>
                </div>
                <p class="modal-description" id="modalDescription">
                    Two teenagers share a profound, magical connection upon discovering they are swapping bodies. Things manage to become even more complicated when the boy and girl decide to meet in person.
                </p>

                <div class="ai-insights">
                    <h3 class="ai-insights-title"></i> Insights</h3>
                    <p class="ai-content" id="aiContent">
                        "Your Name" is a visually stunning masterpiece that combines breathtaking animation with a deeply emotional narrative. Makoto Shinkai's direction creates a perfect balance between supernatural elements and genuine human emotion, making it one of the highest-grossing anime films of all time. The film's visual poetry and intricate storytelling create an unforgettable experience.
                    </p>
                </div>

                <div class="modal-footer">
                    <button class="btn-watchlist" id="addToWatchlist">
                        <i class="fas fa-plus"></i> Add to Watchlist
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText"></span>
    </div>

    <script>
        // Anime Movies database
        const moviesData = [

{
  id: 101,
  title: "A Silent Voice",
  year: "2016",
  rating: "9.02",
  image: "https://i.pinimg.com/1200x/93/95/d4/9395d445ecbd3f13094ae8b10c0b3aeb.jpg",
  modalImage: "https://i.pinimg.com/1200x/82/7f/f9/827ff9cd3db798ee43ee68dcca56cf29.jpg",
  category: ["drama", "school", "psychological", "romance","featured"],
  description: "A former bully seeks redemption by befriending the deaf girl he once tormented.",
  insights: "A profoundly human story tackling bullying, guilt, and healing with elegance and depth. Praised for its thoughtful direction and emotional weight, it holds a 95% critics and 94% audience score on Rotten Tomatoes :contentReference[oaicite:3]{index=3}.",
  director: "Naoko Yamada",
  duration: "129 min"
},

{
  id: 76,
  title: "Weathering With You",
  year: "2019",
  rating: "7.5",
  image: "https://i.pinimg.com/736x/de/4e/01/de4e0140ecdce63e20abb54720d397e4.jpg",
  modalImage: "https://i.pinimg.com/736x/e6/7a/10/e67a10863ace14b5a7fc2edb5db38158.jpg",
  category: ["fantasy", "romance", "drama", "supernatural","featured", "new", "award"],
  description: "A runaway boy meets a girl who can control the weather, sparking a magical connection and moral dilemmas.",
  insights: "A visually stunning spiritual companion to Your Name, this film deepens Shinkai's exploration of youth and fate. Critics praised its animation and emotion, with generally favorable reviews :contentReference[oaicite:4]{index=4}.",
  director: "Makoto Shinkai",
  duration: "112 min"
},

{
  id: 77,
  title: "I Want To Eat Your Pancreas",
  year: "2018",
  rating: "8.62",
  image: "https://i.pinimg.com/1200x/aa/49/49/aa4949a1fd89af58809d66babe5e2d11.jpg",
  modalImage: "https://i.pinimg.com/736x/42/7c/ad/427cad84e6b5965a6a600716dc108a25.jpg",
  category: ["drama", "romance", "school","featured"],
  description: "A shy boy reads a classmate’s secret terminal illness diary and they form a life‑affirming bond.",
  insights: "A tender and tragic journey about friendship, mortality, and living fully. Emotional depth and mature storytelling earned strong praise and an ~8.6 MAL rating :contentReference[oaicite:5]{index=5}.",
  director: "Shinichiro Ushijima",
  duration: "109 min"
},

{
  id: 78,
  title: "Spirited Away",
  year: "2001",
  rating: "8.93",
  image: "https://i.pinimg.com/736x/4a/ac/48/4aac48897954fdd44fa81be2200b7fad.jpg",
  modalImage: "https://i.pinimg.com/1200x/9b/e6/34/9be6345125b34db8a7a314b682c4f7e3.jpg",
  category: ["fantasy", "adventure", "supernatural","ghibli", "award"],
  description: "Chihiro enters a magical world of spirits and must save her parents and return home.",
  insights: "Hayao Miyazaki’s Oscar‑winning classic remains a benchmark in imagination and character, blending folklore, growth, and visual wonder into an unforgettable coming‑of‑age tale.",
  director: "Hayao Miyazaki",
  duration: "125 min"
},

{
  id: 79,
  title: "Howl's Moving Castle",
  year: "2004",
  rating: "8.54",
  image: "https://i.pinimg.com/736x/76/23/77/762377766d63e84b89b07a400968a753.jpg",
  modalImage: "https://i.pinimg.com/1200x/9c/1f/ab/9c1fab6167dadbff7363c8826a087c2d.jpg",
  category: ["fantasy", "romance", "adventure","ghibli"],
  description: "A shy girl cursed into old age by a witch befriends a mysterious wizard and his walking castle.",
  insights: "A lush, anti‑war fantasy with catalytic character transformations and surreal visuals—another Miyazaki masterpiece weaving magic, heart, and social commentary.",
  director: "Hayao Miyazaki",
  duration: "119 min"
},

{
  id: 80,
  title: "Princess Mononoke",
  year: "1997",
  rating: "8.89",
  image: "https://i.pinimg.com/736x/ae/e5/aa/aee5aac8d9f808ace48579790f31d8bb.jpg",
  modalImage: "https://i.pinimg.com/736x/ca/b2/b9/cab2b976d9a623418776deac5587d49d.jpg",
  category: ["fantasy", "adventure", "epic","ghibli", "award"],
  description: "A young warrior becomes embroiled in a conflict between humans and the gods of the forest.",
  insights: "A powerful ecological epic that pits human ambition against nature’s spirits, packed with complex morality, stunning art, and an iconic soundtrack.",
  director: "Hayao Miyazaki",
  duration: "134 min"
},

{
  id: 81,
  title: "My Neighbor Totoro",
  year: "1988",
  rating: "8.32",
  image: "https://i.pinimg.com/736x/d1/2c/ad/d12cadc3f62500594821be0278aef5a8.jpg",
  modalImage: "https://i.pinimg.com/1200x/81/84/8e/81848e68aef12dd207b299f9d0f198dd.jpg",
  category: ["slice‑of‑life", "fantasy", "family","ghibli"],
  description: "Sisters moving to the countryside befriend gentle forest spirits alongside their mother’s recovery.",
  insights: "A gentle, heartwarming tribute to childhood wonder and nature, Totoro remains Studio Ghibli’s most beloved and culturally iconic creation.",
  director: "Hayao Miyazaki",
  duration: "86 min"

},

{
  id: 82,
  title: "Perfect Blue",
  year: "1997",
  rating: "8.24",
  image: "https://i.pinimg.com/736x/ea/41/95/ea4195427d7ccae9643e1d2c46e64d1f.jpg",
  modalImage: "https://i.pinimg.com/1200x/9d/d3/da/9dd3daa64c08ebb62de412b8858ed9af.jpg",
  category: ["psychological", "thriller", "drama","award","featured"],
  description: "A pop idol’s life spirals into terror after she leaves her group, as stalking and blurred reality threaten her sanity.",
  insights: "A dark, meticulously crafted psychological thriller by Satoshi Kon that unnerves and hypnotizes—widely regarded as a genre-defining masterpiece.",
  director: "Satoshi Kon",
  duration: "81 min"
},

{
  id: 83,
  title: "Wolf Children",
  year: "2012",
  rating: "8.53",
  image: "https://i.pinimg.com/1200x/ec/fe/7e/ecfe7e2257b849059b8bbaf48bfe743a.jpg",
  modalImage: "https://i.pinimg.com/1200x/b3/5c/25/b35c25b73939e6283cccaadb4f9615bb.jpg",
  category: ["fantasy", "slice‑of‑life", "drama","award","featured"],
  description: "A young woman raises her half‑wolf children alone while protecting their secret identity.",
  insights: "A tender, poignant exploration of motherly love, identity, and acceptance—Chambliss’s storytelling is emotional and beautifully animated.",
  director: "Mamoru Hosoda",
  duration: "117 min"
},

{
  id: 84,
  title: "Suzume",
  year: "2022",
  rating: "7.0",
  image: "https://i.pinimg.com/736x/ff/7a/6d/ff7a6deccfc9faa64f1370c013e1692f.jpg",
  modalImage: "https://i.pinimg.com/736x/68/8b/10/688b106b56fca3722ffb9c5b0764599a.jpg",
  category: ["fantasy", "adventure", "drama","new","featured"],
  description: "A teenage girl helps close magical doors causing disasters across Japan, forming deep bonds through her journey.",
  insights: "Makoto Shinkai’s emotional tornado after Your Name and Weathering, Suzume blends shrine lore, magical realism, and heartfelt storytelling—earning Film of the Year at the 2023 Crunchyroll Anime Awards",
  director: "Makoto Shinkai",
  duration: "121 min"
},

{
  id: 85,
  title: "The First Slam Dunk",
  year: "2022",
  rating: "7.7",
  image: "https://i.pinimg.com/736x/b0/4f/3b/b04f3bb789bdb7590c3f1cf5491bbc72.jpg",
  modalImage: "https://i.pinimg.com/736x/77/72/24/7772245d5ead349cc5c2cbcb0d5133e2.jpg",
  category: ["sports", "basketball", "drama","new"],
  description: "A reimagined film retelling of iconic basketball team Shohoku’s rise during high school championship run.",
  insights: "A love letter to a generation of Slam Dunk fans—this film revives classic energy and nostalgia with polished animation. It won Best Animated Feature–Film at the Japan Academy Awards",
  director: "Takehiko Inoue",
  duration: "124 min"
},

{
  id: 86,
  title: "Demon Slayer: Kimetsu no Yaiba – The Movie: Mugen Train",
  year: "2020",
  rating: "8.58",
  image: "https://i.pinimg.com/1200x/7a/c5/c7/7ac5c7af01917b0d06147f5cb8d55fd3.jpg",
  modalImage: "https://i.pinimg.com/1200x/26/aa/11/26aa11a2cea6529ed1823d5e196ecb75.jpg",
  category: ["action", "fantasy", "dark fantasy", "supernatural","new", "award"],
  description: "Following the events of the first season, Tanjiro and the Demon Slayer Corps ride the Mugen Train to investigate a series of disappearances linked to a powerful Lower Rank demon.",
  insights: "This film seamlessly continues the TV series’ emotional intensity and breathtaking Ufotable animation, delivering one of the most poignant arcs in the franchise while breaking box‑office records worldwide.",
  director: "Haruo Sotozaki",
  duration: "119 minutes"
},

{
  id: 87,
  title: "Belle",
  year: "2021",
  rating: "8.12",
  image: "https://i.pinimg.com/1200x/d5/0b/c3/d50bc303ab4690bed68ce46d71dea3bf.jpg",
  modalImage: "https://i.pinimg.com/1200x/08/9b/5e/089b5ea075ac19a0b87aeda46f83f1cf.jpg",
  category: ["fantasy", "drama", "music", "science fiction", "award", "new"],
  description: "In the digital world ‘U,’ shy high‑schooler Suzu takes on the avatar ‘Belle’ and becomes a global singing sensation, leading her to confront both online and real‑world demons.",
  insights: "Hosoda’s stunning fusion of fairy‑tale motifs and social media commentary showcases the power of music and virtual connection, anchored by a deeply empathetic heroine.",
  director: "Mamoru Hosoda",
  duration: "121 minutes"
},

{
  id: 88,
  title: "Akira",
  year: "1988",
  rating: "8.16",
  image: "https://i.pinimg.com/1200x/75/26/06/7526061323f0d95b1b016e9df7b87cc1.jpg",
  modalImage: "https://i.pinimg.com/1200x/a9/d3/0f/a9d30f975fd6333d9f16ff9854cb2874.jpg",
  category: ["Seinen","movie", "sci-fi", "cyberpunk", "action","featured"],
  description: "In a dystopian Neo‑Tokyo, a biker gang member tries to rescue his friend after government experiments awaken destructive psychic powers.",
  insights: "Akira is a landmark in cyberpunk anime—visually stunning and energetically paced, its kinetic animation remains influential. While its dense storyline and limited character development divide some viewers, many praise its ‘phenomenal animation and sheer kinetic energy’ :contentReference[oaicite:0]{index=0}, and one Redditor called it “an essential anime film",
  director: "Katsuhiro Otomo",
  duration: "124 minutes"
},

{
  id: 89,
  title: "Your Name",
  year: "2016",
  rating: "8.83",
  image: "https://i.pinimg.com/736x/a7/11/fb/a711fb8cc118d03a861d915895e48f24.jpg",
  modalImage: "https://i.pinimg.com/1200x/af/b8/eb/afb8eb8ab544f5d89ace669f7e05f26f.jpg",
  category: ["fantasy", "romance", "drama", "supernatural","featured", "award"],
  description: "Two high‑schoolers mysteriously swap bodies and must locate each other before disaster strikes, weaving romance across time and space.",
  insights: "A visual and emotional masterpiece by Makoto Shinkai, Your Name blends superb animation with a heartfelt story about connection, memory, and destiny. It became the highest‑grossing anime film worldwide and holds a 98% critics score on Rotten Tomatoes",
  director: "Makoto Shinkai",
  duration: "106 min"
},
{
  id: 90,
  title: "Ghost in the Shell",
  year: "1995",
  rating: "8.00",
  image: "https://i.pinimg.com/1200x/ac/6f/09/ac6f093cebbdb63caa9f9dd93282f061.jpg",
  modalImage: "https://i.pinimg.com/1200x/88/8a/14/888a145993841fc21ede3624be256bbd.jpg",
  category: ["sci‑fi", "cyberpunk", "action", "philosophical","featured"],
  description: "In a near‑future Japan, cyborg Major Motoko Kusanagi hunts the Puppet Master, a hacker who can rewrite human minds, leading to existential questions of identity.",
  insights: "Oshii’s landmark film blends noir‑style storytelling, haunting Kenji Kawai music, and pioneering animation to explore consciousness and the limits of humanity in a technologically advanced world. Its thematic depth and visual innovation have influenced countless works in both anime and live‑action sci‑fi." ,
  director: "Mamoru Oshii",
  duration: "83 minutes"
},

{
  id: 91,
  title: "The Boy and the Heron",
  year: "2023",
  rating: "7.70",
  image: "https://i.pinimg.com/736x/45/60/f2/4560f2ff127153755bf675cd721aef99.jpg",
  modalImage: "https://i.pinimg.com/1200x/a3/1a/6f/a31a6fa6d29b63572340fc324addf64a.jpg",
  category: ["fantasy", "adventure", "drama","ghibli", "award", "new"],
  description: "After losing his mother in wartime, young Mahito moves to his aunt’s estate and follows a mysterious gray heron into a world between life and death, embarking on a journey of wonder and self‑discovery.",
  insights: "Miyazaki’s presumed swan song weaves personal history with surreal adventure, combining Studio Ghibli’s hand‑drawn artistry and Joe Hisaishi’s emotive score. It meditates on grief, curiosity, and the transition from childhood to adulthood with profound lyrical beauty.",
  director: "Hayao Miyazaki",
  duration: "124 minutes"
},
{
  id: 92,
  title: "The Tale of the Princess Kaguya",
  year: "2013",
  rating: "8.21",
  image: "https://i.pinimg.com/736x/3b/64/a8/3b64a83021a0af69bf5af853b5b5af5f.jpg",
  modalImage: "https://i.pinimg.com/1200x/89/18/2b/89182bc4bbc900fa256f917d09b554cf.jpg",
  category: ["fantasy", "historical", "drama","ghibli", "award"],
  description: "A baby plucked from bamboo grows into Princess Kaguya, whose radiant beauty forces her father to seek suitors—only for her to yearn for a simpler life.",
  insights: "Isao Takahata’s hand‑drawn masterpiece melds ethereal water‑colour visuals with a timeless folktale, exploring fate, desire, and the price of beauty in a deeply lyrical fashion.",
  director: "Isao Takahata",
  duration: "137 minutes"
},
{
  id: 93,
  title: "Dragon Ball Super: Super Hero",
  year: "2022",
  rating: "7.1",
  image: "https://i.pinimg.com/736x/32/0f/7f/320f7f47ebcd269bb423db6448f6f5af.jpg",
  modalImage: "https://i.pinimg.com/1200x/c4/45/16/c44516e0dcb43dcd8cc48f9581e333f4.jpg",
  category: ["action", "adventure", "fantasy", "superhero", "new"],
  description: "The Red Ribbon Army resurfaces with new androids Gamma 1 & 2—Piccolo and Gohan must step up as Goku’s absence leaves a world in peril.",
  insights: "Tetsuro Kodama reinvigorates the franchise with fresh CGI‑driven fights and emotional stakes, spotlighting two underused heroes in a fast‑paced, fun-packed outing.",
  director: "Tetsuro Kodama",
  duration: "100 minutes"
},

{
  id: 94,
  title: "Spy × Family Code: White",
  year: "2023",
  rating: "94%",
  image: "https://i.pinimg.com/736x/fd/27/fd/fd27fda8be20687fa3387f0801c5a175.jpg",
  modalImage: "https://i.pinimg.com/736x/92/ff/22/92ff22ce85f7022e38144970f7ba001f.jpg",
  category: ["action", "comedy", "slice‑of‑life", "spy", "new"],
  description: "Loid’s ‘perfect family’ takes a winter getaway—only for Anya’s mischief to trigger a high‑stakes military plot that could unravel world peace.",
  insights: "Takashi Katagiri amplifies the series’ charm into a globe‑trotting caper, blending crisp Wit/CloverWorks animation with humor, heart, and surprisingly intense action beats.",
  director: "Takashi Katagiri",
  duration: "110 minutes"
},

{
  id: 95,
  title: "Spider‑Man: Into the Spider‑Verse",
  year: "2018",
  rating: "8.4",
  image: "https://i.pinimg.com/1200x/94/8d/bb/948dbb27e6301e61c5f0532b9eb04db6.jpg",
  modalImage: "https://i.pinimg.com/1200x/92/65/b9/9265b941d72452b82687ddb571cde593.jpg",
  category: ["action", "adventure", "superhero", "animation"],
  description: "Teenager Miles Morales gains powers and joins a team of Spider‑People from alternate dimensions to stop the Kingpin’s multiverse‑shattering plan.",
  insights: "Directed by Persichetti, Ramsey & Rothman, this innovative film’s multilayered animation style and heartfelt story broke the mold, earning both critical and audience acclaim.",
  director: "Bob Persichetti, Peter Ramsey, Rodney Rothman",
  duration: "117 minutes"
},
{
  id: 96,
  title: "One Piece Film: Red",
  year: "2022",
  rating: "8.00",
  image: "https://i.pinimg.com/1200x/f6/3d/32/f63d32144329e201f804f073952a5afb.jpg",
  modalImage: "https://i.pinimg.com/1200x/f3/55/f2/f355f250e25e7354a90b2afc79a2ddad.jpg",
  category: ["action", "adventure", "fantasy", "musical", "new"],
  description: "Straw Hat Pirates get invited to a concert by Uta—the world’s most beloved singer and Luffy’s long‑lost daughter—only to uncover deep conspiracies behind her fame.",
  insights: "Taniguchi’s vibrant direction and Nakata’s catchy score deliver a fresh, musical twist to the franchise, delighting both long‑time fans and newcomers alike.",
  director: "Gorō Taniguchi",
  duration: "115 minutes"
},
{
  id: 97,
  title: "A Whisker Away",
  year: "2020",
  rating: "7.05",
  image: "https://i.pinimg.com/1200x/19/6d/6e/196d6e7f82a7920f260a6a6f266f3222.jpg",
  modalImage: "https://i.pinimg.com/736x/a3/b7/4d/a3b74d8f5336cf5a6f9288027cf7d433.jpg",
  category: ["romance", "fantasy", "supernatural", "new"],
  description: "Miyo Sasaki uses a magical cat mask to transform into a feline ‘Tarō’ and get closer to her crush—only to discover the price of hiding behind another form.",
  insights: "Combining Netflix’s widescreen canvas with Sato and Shibayama’s delicate direction, the film explores young love and identity through whimsical yet poignant storytelling.",
  director: "Junichi Sato, Tomotaka Shibayama",
  duration: "104 minutes"
},

{
  id: 98,
  title: "Jujutsu Kaisen 0",
  year: "2021",
  rating: "8.50",
  image: "https://i.pinimg.com/1200x/fd/37/cd/fd37cdadeea6cf97ca6acec593fcff2b.jpg",
  modalImage: "https://i.pinimg.com/736x/62/61/3c/62613c754cd47d09094af20d79d919a9.jpg",
  category: ["dark fantasy", "action", "supernatural", "new"],
  description: "Prologue to the series: Yuta Okkotsu strains under a deadly curse and enrolls at Tokyo Jujutsu High to control Rika’s spirit and confront past trauma.",
  insights: "MAPPA elevates the origin story with kinetic fight choreography and emotional depth, setting a high bar for anime film adaptations of manga arcs.",
  director: "Sunghoo Park",
  duration: "105 minutes"
},
{
  id: 99,
  title: "To Every You I've Loved Before",
  year: "2022",
  rating: "7.35",
  image: "https://i.pinimg.com/1200x/b3/36/e3/b336e344ebc37eb5f1a5068bc66b934a.jpg",
  modalImage: "https://i.pinimg.com/736x/82/78/ee/8278eeec27ae1394f5be6bcff3ac6565.jpg",
  category: ["romance", "fantasy", "drama"],
  description: "Koyomi Takasaki meets Kazune Takigawa from a parallel world where they are lovers—sparking a journey through alternate realities and first loves.",
  insights: "This thoughtful romance uses sci‑fi trappings to probe the nature of choice and destiny, balancing heartfelt moments with speculative intrigue.",
  director: "Jun Matsumoto",
  duration: "102 minutes"
},
{
  id: 100,
  title: "Sword Art Online the Movie: Ordinal Scale",
  year: "2017",
  rating: "9.2",
  image: "https://i.pinimg.com/1200x/10/d5/35/10d5351e46cbde277b9b7d31b2d2b405.jpg",
  modalImage: "https://i.pinimg.com/1200x/95/d0/9b/95d09b86f705c36ad28092b9a70b2f3f.jpg",
  category: ["action", "sci‑fi", "fantasy", "adventure", "romance"],
  description: "In 2026, four years after the SAO incident, a new AR system called the Augma thrusts Kirito and friends into ‘Ordinal Scale’—but the game hides a dark secret.",
  insights: "This film captures the series’ signature emotional highs and Ufotable’s trademark kinetic action, weaving a fresh tale that bridges seasons while pushing the technology theme forward in a compelling way.",
  director: "Tomohiko Itō",
  duration: "120 minutes"
}
        ];

  const modal = document.getElementById('infoModal');
  const modalClose = document.getElementById('modalClose');
  const addToWatchlistBtn = document.getElementById('addToWatchlist');
  const featuredSlider = document.getElementById('featuredSlider');
  const ghibliSlider   = document.getElementById('ghibliSlider');
  const awardSlider    = document.getElementById('awardSlider');
  const adventureSlider = document.getElementById('adventureSlider');
  const newSlider      = document.getElementById('newSlider');
  const romanceSlider = document.getElementById('romanceSlider');
  const actionSlider  = document.getElementById('actionSlider');
  const dramaSlider   = document.getElementById('dramaSlider');
  const fantasySlider = document.getElementById('fantasySlider');
  const modalTitle     = document.getElementById('modalTitle');
  const modalBackdrop  = document.getElementById('modalBackdrop');
  const modalDescription = document.getElementById('modalDescription');
  const aiContent      = document.getElementById('aiContent');
  const modalMeta      = document.getElementById('modalMeta');
  const notification   = document.getElementById('notification');
  const notificationText = document.getElementById('notificationText');

  // Hero Slider
  const heroSlides = document.querySelector('.hero-slides');
  const prevBtn    = document.querySelector('.hero-nav.prev');
  const nextBtn    = document.querySelector('.hero-nav.next');
  const indicators = document.querySelectorAll('.indicator');
  let currentSlide = 0, slideInterval;
  const slideCount = indicators.length;

  // 1) HERO SLIDER FUNCTIONS
  function initHeroSlider() {
    prevBtn.addEventListener('click', showPrevSlide);
    nextBtn.addEventListener('click', showNextSlide);

    indicators.forEach(ind => {
      ind.addEventListener('click', () => {
        goToSlide(+ind.dataset.slide);
      });
    });

    document.querySelector('.hero-slider')
      .addEventListener('mouseenter', pauseAutoSlide);
    document.querySelector('.hero-slider')
      .addEventListener('mouseleave', startAutoSlide);

    startAutoSlide();
  }

  function showNextSlide() {
    currentSlide = (currentSlide + 1) % slideCount;
    updateSlider();
  }
  function showPrevSlide() {
    currentSlide = (currentSlide - 1 + slideCount) % slideCount;
    updateSlider();
  }
  function goToSlide(idx) {
    currentSlide = idx;
    updateSlider();
  }
  function updateSlider() {
    heroSlides.style.transform = `translateX(-${currentSlide * 20}%)`;
    indicators.forEach((ind, i) => {
      ind.classList.toggle('active', i === currentSlide);
    });
  }
  function startAutoSlide() {
    clearInterval(slideInterval);
    slideInterval = setInterval(showNextSlide, 4000);
  }
  function pauseAutoSlide() {
    clearInterval(slideInterval);
  }

  // 2) GENERATE MOVIE SLIDERS
  function generateSlider(sliderId, movieList) {
    const slider = document.getElementById(sliderId);
    slider.innerHTML = '';
    movieList.forEach(movie => {
      const card = document.createElement('div');
      card.className = 'movie-card';
      card.innerHTML = `
        <img src="${movie.image}" alt="${movie.title}">
        <div class="movie-card-overlay">
          <div class="movie-card-title">${movie.title}</div>
          <div class="movie-card-meta">
            <span>${movie.year}</span>
            <span class="movie-card-rating">${movie.rating} <i class="fas fa-star"></i></span>
          </div>
          <div class="movie-card-info">${movie.duration} • ${movie.director}</div>
        </div>
      `;
      card.addEventListener('click', () => openModal(movie));
      slider.appendChild(card);
    });
  }

  // 3) SLIDER NAVIGATION HOOKUP
  function setupSliderNavigation() {
    document.querySelectorAll('.slider-nav.next').forEach(btn => {
      btn.addEventListener('click', () => {
        const slider = btn.parentElement.querySelector('.slider');
        slider.scrollBy({ left: 300, behavior: 'smooth' });
      });
    });
    document.querySelectorAll('.slider-nav.prev').forEach(btn => {
      btn.addEventListener('click', () => {
        const slider = btn.parentElement.querySelector('.slider');
        slider.scrollBy({ left: -300, behavior: 'smooth' });
      });
    });
  }

  // 4) MODAL LOGIC
  let currentMovie = null;
  function openModal(movie) {
    currentMovie = movie;
    modalTitle.textContent       = movie.title;
    modalBackdrop.src            = movie.modalImage || movie.image;
    modalBackdrop.alt            = movie.title;
    modalDescription.textContent = movie.description;
    aiContent.textContent        = movie.insights || "No insights available.";
    modalMeta.innerHTML = `
      <span class="modal-rating">${movie.rating} <i class="fas fa-star"></i></span>
      <span>${movie.year}</span>
      <span>${movie.duration}</span>
      <span>${movie.director}</span>
    `;
    modal.style.display          = 'block';
    document.body.style.overflow = 'hidden';
  }
  function closeModal() {
    modal.style.display          = 'none';
    document.body.style.overflow = 'auto';
  }
  function addToWatchlist() {
    if (!currentMovie) return;
    fetch('/add_to_watchlist', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        anime_id: currentMovie.id,
        title: currentMovie.title,
        year: currentMovie.year,
        rating: currentMovie.rating,
        image: currentMovie.image
      })
    })
    .then(res => res.json())
    .then(data => {
      showNotification(data.success
        ? `${currentMovie.title} added!`
        : data.error || 'Failed to add.'
      );
    })
    .catch(() => showNotification('Failed to add.'));
  }
  function showNotification(msg) {
    notificationText.textContent = msg;
    notification.classList.add('show');
    setTimeout(() => notification.classList.remove('show'), 3000);
  }

  // 5) BOOTSTRAP EVERYTHING
  document.addEventListener('DOMContentLoaded', function() {
    initHeroSlider();

    generateSlider('featuredSlider', moviesData.filter(m=>m.category.includes('featured')));
    generateSlider('ghibliSlider',   moviesData.filter(m=>m.category.includes('ghibli')));
    generateSlider('awardSlider',    moviesData.filter(m=>m.category.includes('award')));
    generateSlider('adventureSlider', moviesData.filter(m => m.category.includes('adventure')));
    generateSlider('actionSlider',   moviesData.filter(m => m.category.includes('action'))); // New
    generateSlider('romanceSlider', moviesData.filter(m => m.category.includes('romance')));
    generateSlider('dramaSlider',   moviesData.filter(m => m.category.includes('drama')));
    generateSlider('fantasySlider', moviesData.filter(m => m.category.includes('fantasy')));
    generateSlider('newSlider',     moviesData.filter(m => m.category.includes('new')));

    setupSliderNavigation();

            modalClose.addEventListener('click', closeModal);
            addToWatchlistBtn.addEventListener('click', addToWatchlist);
            modal.addEventListener('click', e => { if (e.target===modal) closeModal(); });
        });
    </script>
</body>
</html>
{% endblock %}
